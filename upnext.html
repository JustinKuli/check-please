<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#000000">
    <title>Check Please!</title>
  </head>
  <style>
    div {
        margin: 0px;
        padding: 0px;
    }

    h2 {
        font-size: 36px;
        color: #0FF2DB;
        margin: 7px 0px 3px 10px;
        padding: 0px;
    }

    p {
        font-size: 24px;
        color: #FFFFFF;
        margin: 5px 0px 0px 30px;
        padding: 0px;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    hr {
        height: 2px;
        visibility: hidden;
        margin: 0px;
        border: 0px;
        padding: 0px;
    }

    /* add this when teting outide of OBS */
    #next {
        background-color: #741C8C;
    }
  </style>
  <body class="light">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
      <div id="next" style="left: 735px; top: 350px; height: 400px; width: 600px; position: absolute; z-index: 1; overflow: hidden">
        <h2 id="nextHeading">Up Next:</h2>
        <p id="nextGame">?</p>
        <hr />
        <p id="nextCategory">?</p>
        <hr />
        <p id="nextRunner">?</p>
        <hr />
        <p id="nextCouch">?</p>
      </div>
    </div>
    <script>
      // Avoid CORS
      const scheduleJSONraw = '{"data":{"id":"5911y032qy72qo7a42","name":"Check-Please-A-Palooza 5","slug":"2024","timezone":"America/Denver","start":"2024-11-02T11:00:00-06:00","start_t":1730566800,"website":"https://bagoftakeout.wixsite.com/checkplease","twitter":"CheckPleaseAPal","twitch":"chk_plz","description":"Check-Please-A-Palooza is a video game speedrunning charity event inspired by Games Done Quick. This is our 5th annual event and we have raised over $17,500 for charity. This year, we are raising money for [Girls Who Code.](https://girlswhocode.com/) You can support them by watching the event live on our Twitch channel here: [Chk_Plz](http://www.twitch.tv/chk_plz)","setup":"PT0S","setup_t":0,"updated":"2024-10-31T00:39:28Z","hidden_columns":[],"link":"https://horaro.org/checkplz/2024","columns":["Game/Incentive","Category","Runner","Console","Couch"],"items":[{"length":"PT20M","length_t":1200,"scheduled":"2024-11-02T11:00:00-06:00","scheduled_t":1730566800,"data":["Bag of Opening Remarks (Start of Day 1)","Remarks%","[bagoftakeout](https://www.twitch.tv/bagoftakeout)",null,"[QuigglyQ](https://www.twitch.tv/quigglyq), [DalesmenDM](https://www.twitch.tv/dalesmendm), [Coprolite](https://www.twitch.tv/coprolite09)"]},{"length":"PT15M","length_t":900,"scheduled":"2024-11-02T11:20:00-06:00","scheduled_t":1730568000,"data":["GAME: Gravity Circuit","Dog%","[bagoftakeout](https://www.twitch.tv/bagoftakeout)","PC","[tuba_toothpaste](https://www.twitch.tv/tuba__toothpaste), chunderfins"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-02T11:35:00-06:00","scheduled_t":1730568900,"data":["INCENTIVE: QuigglyQ\u2019s Slang Powerpoint","Incentive%","[QuigglyQ](https://www.twitch.tv/quigglyq)",null,null]},{"length":"PT40M","length_t":2400,"scheduled":"2024-11-02T11:45:00-06:00","scheduled_t":1730569500,"data":["GAME: Hades","Any%","[tuba_toothpaste](https://www.twitch.tv/tuba__toothpaste)","PC","[QuigglyQ](https://www.twitch.tv/quigglyq), [DalesmenDM](https://www.twitch.tv/dalesmendm)"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-02T12:25:00-06:00","scheduled_t":1730571900,"data":["INCENTIVE: Dastardly Drink Box","Incentive%","Context-Sensitive",null,null]},{"length":"PT45M","length_t":2700,"scheduled":"2024-11-02T12:35:00-06:00","scheduled_t":1730572500,"data":["GAME: Hades II","TBD","[QuigglyQ](https://www.twitch.tv/quigglyq)","PC","[tuba_toothpaste](https://www.twitch.tv/tuba__toothpaste), SweetBroseph"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-02T13:20:00-06:00","scheduled_t":1730575200,"data":["INCENTIVE: Pizza\u0027s Third Element","Incentive%","[tuba_toothpaste](https://www.twitch.tv/tuba__toothpaste)",null,null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-02T13:30:00-06:00","scheduled_t":1730575800,"data":["GAME: Cuphead","Any%","DalesmenDM","PC","[QuigglyQ](https://www.twitch.tv/quigglyq), [Mr. Swaggles](https://www.twitch.tv/mrswagglesrh)"]},{"length":"PT20M","length_t":1200,"scheduled":"2024-11-02T14:30:00-06:00","scheduled_t":1730579400,"data":["Break","Recharge%",null,null,null]},{"length":"PT05M","length_t":300,"scheduled":"2024-11-02T14:50:00-06:00","scheduled_t":1730580600,"data":["GAME: The Town with No Name","Any%","chunderfins","Amiga CD32 Emulator","[bagoftakeout](https://www.twitch.tv/bagoftakeout), [ContextSensitive](https://www.twitch.tv/ehcontextsensitive), [Coprolite](https://www.twitch.tv/coprolite09)"]},{"length":"PT05M","length_t":300,"scheduled":"2024-11-02T14:55:00-06:00","scheduled_t":1730580900,"data":["INCENTIVE: Kerry Makes An NA Cocktail","Incentives%","[Bassicallyboss](https://www.twitch.tv/bassicallyboss)",null,null]},{"length":"PT30M","length_t":1800,"scheduled":"2024-11-02T15:00:00-06:00","scheduled_t":1730581200,"data":["GAME: Pretty Soldier: Sailor Moon","Any%","[princessleafleaf](https://www.twitch.tv/princessleafleaf)","Emulator","chunderfins, [Coprolite](https://www.twitch.tv/coprolite09)"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-02T15:30:00-06:00","scheduled_t":1730583000,"data":["INCENTIVE: Celeste Race","Incentives%","[WinstonPHz](https://www.twitch.tv/winstonphz), [Zestapeel](http://twitch.tv/zestapeel)",null,null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-02T15:40:00-06:00","scheduled_t":1730583600,"data":["GAME: Super Mario 64 (Tiny Mario Rom Hack)","31 Star","[Zestapeel](http://twitch.tv/zestapeel)","N64 Emulator","[FlashcrySamurai](https://www.twitch.tv/flashcrysamurai), [WinstonPHz](https://www.twitch.tv/winstonphz)"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-02T16:40:00-06:00","scheduled_t":1730587200,"data":["INCENTIVE: The Hidden Lore of Resident Baker 2: Rise","Incentives%","DalesmenDM",null,null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-02T16:50:00-06:00","scheduled_t":1730587800,"data":["GAME: Super Mario 64","70 Star","[FlashcrySamurai](https://www.twitch.tv/flashcrysamurai)","N64 Emulator","chunderfins, [bagoftakeout](https://www.twitch.tv/bagoftakeout)"]},{"length":"PT05M","length_t":300,"scheduled":"2024-11-02T17:50:00-06:00","scheduled_t":1730591400,"data":["INCENTIVE: Good Ash\u2019s Bad Dad Jokes","Incentives%","[Coprolite](https://www.twitch.tv/coprolite09)",null,null]},{"length":"PT25M","length_t":1500,"scheduled":"2024-11-02T17:55:00-06:00","scheduled_t":1730591700,"data":["GAME: Terraforming Mars","Solo Challenge TR63 Prelude%","[Mr. Swaggles](https://www.twitch.tv/mrswagglesrh)","Mobile Game","[Bassicallyboss](https://www.twitch.tv/bassicallyboss)"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-02T18:20:00-06:00","scheduled_t":1730593200,"data":["INCENTIVE: Tingle Does DDR","Incentives%","[Ruthdale](https://www.twitch.tv/ruthdale)",null,null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-02T18:30:00-06:00","scheduled_t":1730593800,"data":["Secret Speedrun Game","Secret%",null,null,null]},{"length":"PT17H30M","length_t":63000,"scheduled":"2024-11-02T19:30:00-06:00","scheduled_t":1730597400,"data":["End of Day 1 (Break)","Recharge%",null,null,null]},{"length":"PT15M","length_t":900,"scheduled":"2024-11-03T13:00:00-06:00","scheduled_t":1730660400,"data":["Bag of Updates (Start of Day 2)","Remarks%","[bagoftakeout](https://www.twitch.tv/bagoftakeout)",null,"[QuigglyQ](https://www.twitch.tv/quigglyq), [DalesmenDM](https://www.twitch.tv/dalesmendm), [Coprolite](https://www.twitch.tv/coprolite09)"]},{"length":"PT30M","length_t":1800,"scheduled":"2024-11-03T13:15:00-06:00","scheduled_t":1730661300,"data":["GAME: Slay the Spire","Claw is Law%","DalesmenDM","PC",null]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-03T13:45:00-06:00","scheduled_t":1730663100,"data":["INCENTIVE: Plants and Chickens",null,"[Ruthdale](https://www.twitch.tv/ruthdale), [princessleafleaf](https://www.twitch.tv/princessleafleaf)",null,null]},{"length":"PT25M","length_t":1500,"scheduled":"2024-11-03T13:55:00-06:00","scheduled_t":1730663700,"data":["GAME: Satisfactory","Dogo%","[WinstonPHz](https://www.twitch.tv/winstonphz)","PC","[Bassicallyboss](https://www.twitch.tv/bassicallyboss)"]},{"length":"PT05M","length_t":300,"scheduled":"2024-11-03T14:20:00-06:00","scheduled_t":1730665200,"data":["INCENTIVE: Choose your own Tale Time","Incentives%","DalesmenDM",null,null]},{"length":"PT30M","length_t":1800,"scheduled":"2024-11-03T14:25:00-06:00","scheduled_t":1730665500,"data":["GAME: Fallout 3","Sex% as Babby","Context-Sensitive","PC","chunderfins, DalesmenDM, [Mr. Swaggles](https://www.twitch.tv/mrswagglesrh)"]},{"length":"PT15M","length_t":900,"scheduled":"2024-11-03T14:55:00-06:00","scheduled_t":1730667300,"data":["INCENTIVE: Tingle and Zero Suit Samus Double Team Sephiroth","Incentives%","[Ruthdale](https://www.twitch.tv/ruthdale)",null,null]},{"length":"PT30M","length_t":1800,"scheduled":"2024-11-03T15:10:00-06:00","scheduled_t":1730668200,"data":["GAME: Pikmin 4","Olimar\u0027s Shipwrecked Tale","[WinstonPHz](https://www.twitch.tv/winstonphz)","Switch","[FlashcrySamurai](https://www.twitch.tv/flashcrysamurai), [tuba_toothpaste](https://www.twitch.tv/tuba__toothpaste)"]},{"length":"PT20M","length_t":1200,"scheduled":"2024-11-03T15:40:00-06:00","scheduled_t":1730670000,"data":["INCENTIVE: Blender Speedrun","Incentives%","[Mr. Swaggles](https://www.twitch.tv/mrswagglesrh)",null,null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-03T16:00:00-06:00","scheduled_t":1730671200,"data":["GAME: Europa Universalis IV","Uniting Iberia (with a twist!)","[Bassicallyboss](https://www.twitch.tv/bassicallyboss)","PC","[tuba_toothpaste](https://www.twitch.tv/tuba__toothpaste), [WinstonPHz](https://www.twitch.tv/winstonphz)"]},{"length":"PT30M","length_t":1800,"scheduled":"2024-11-03T17:00:00-06:00","scheduled_t":1730674800,"data":["Break","Recharge%",null,null,null]},{"length":"PT55M","length_t":3300,"scheduled":"2024-11-03T17:30:00-06:00","scheduled_t":1730676600,"data":["GAME: Journey","Any% Glitchless Red Robe","[Ruthdale](https://www.twitch.tv/ruthdale)","PS4","[princessleafleaf](https://www.twitch.tv/princessleafleaf), [WinstonPHz](https://www.twitch.tv/winstonphz), [Coprolite](https://www.twitch.tv/coprolite09)"]},{"length":"PT10M","length_t":600,"scheduled":"2024-11-03T18:25:00-06:00","scheduled_t":1730679900,"data":["INCENTIVE: Reilly Beat Saber","Incentives%","Sweet Broseph",null,null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-03T18:35:00-06:00","scheduled_t":1730680500,"data":["GAME: Minoria","Any%","[Coprolite](https://www.twitch.tv/coprolite09)","PC","[DalesmenDM](https://www.twitch.tv/dalesmendm), [Context-Sensitive](https://www.twitch.tv/ehcontextsensitive)"]},{"length":"PT20M","length_t":1200,"scheduled":"2024-11-03T19:35:00-06:00","scheduled_t":1730684100,"data":["INCENTIVE: Dalesmen Draw Pokemon from Memory (Gen 2)","Incentives%","The Fighting Dalesmen",null,null]},{"length":"PT15M","length_t":900,"scheduled":"2024-11-03T19:55:00-06:00","scheduled_t":1730685300,"data":["PRIZE RAFFLE","Prize%","Context-Sensitive","Spreadsheet",null]},{"length":"PT1H","length_t":3600,"scheduled":"2024-11-03T20:10:00-06:00","scheduled_t":1730686200,"data":["GAME: Just a lil guy race featuring: Kirby and the Amazing Mirror Vs. Ori and the Will of the Wisps","Any% / Any% No OoB","[Zbarf](https://www.twitch.tv/z_barf) / The Runchler","GBA Emulator / PC","chunderfins, [Mr. Swaggles](https://www.twitch.tv/mrswagglesrh) / Coprolite, DalesmenDM"]},{"length":"PT15M","length_t":900,"scheduled":"2024-11-03T21:10:00-06:00","scheduled_t":1730689800,"data":["Bag of Closing Remarks","Remarks%","[bagoftakeout](https://www.twitch.tv/bagoftakeout)",null,null]}],"links":[{"rel":"self","uri":"https://horaro.org/-/api/v1/schedules/5911y032qy72qo7a42"},{"rel":"event","uri":"https://horaro.org/-/api/v1/events/00500p79iq6540b424"},{"rel":"ticker","uri":"https://horaro.org/-/api/v1/schedules/5911y032qy72qo7a42/ticker"}]}}'
      const scheduleJSON = JSON.parse(scheduleJSONraw)

      function cleanRunner(inp) {
        return inp.replaceAll(/\[(.+?)\]\(https:.*?\)/g, "$1")
      }

      function render() {
        let now = Date.parse('2024-11-02T11:40:00-06:00');
        // let now = Date.now();
    
        let i = 0;
        while (i < 100) {
            let sched = Date.parse(scheduleJSON.data.items[i].scheduled);
            if (sched > now) {
                break
            }

            i++
        }
        
        const game = document.getElementById("nextGame");
        const category = document.getElementById("nextCategory");
        const runner = document.getElementById("nextRunner");
        const couch = document.getElementById("nextCouch");

        const nextInfo = scheduleJSON.data.items[i];
        console.log("next item: " + i + " - " + JSON.stringify(nextInfo));

        game.textContent = nextInfo.data[0]
        category.textContent = nextInfo.data[1]
        runner.textContent = "By: " + cleanRunner(nextInfo.data[2]);

        if (nextInfo.data[4]) {
            couch.textContent = "With: " + cleanRunner(nextInfo.data[4]);
        }
      }
      
      render();
      
      setInterval(render, 60000); // every 60 seconds
    </script>
  </body>
</html>
